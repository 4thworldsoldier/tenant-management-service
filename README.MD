# Tenant Management Service with JWT Authorization

This project is a Spring Boot application that provides tenant management functionalities. It is designed to handle tenant-specific operations (such as create, update, delete, and retrieve tenant details) and is secured using JWT authentication. A custom JWT filter (sourced from the commons library) intercepts all incoming requests to validate the token and enforce role-based access control.

> **Note:**  
> This service relies on JWT tokens generated by the User Management Service. Ensure that your commons library is built and installed in your local Maven repository.

## Table of Contents

- [Features](#features)
- [Prerequisites](#prerequisites)
- [Setup Instructions](#setup-instructions)
- [Usage Guidelines](#usage-guidelines)
- [Configuration](#configuration)
  - [Database](#database)
  - [JWT Settings](#jwt-settings)
- [Running the Application](#running-the-application)
- [API Endpoints](#api-endpoints)
- [Custom JWT Filter](#custom-jwt-filter)
- [Role-Based Access Control](#role-based-access-control)
- [Troubleshooting](#troubleshooting)
- [References](#references)
- [License](#license)

## Features

- **Tenant Management:** Perform CRUD operations on tenant data.
- **JWT Integration:** Secures endpoints by validating JWT tokens issued by the User Management Service.
- **Custom Security Filter:** A shared filter from the commons library intercepts incoming requests to validate JWT tokens.
- **Role-Based Access Control:** Enforces access restrictions based on user roles and privileges.

## Prerequisites

- **Java 17 or higher**
- **Maven 3.6+**
- **MySQL 8.x Database**
- **Babbangona-commons-library** (Ensure this library is built and installed in your local Maven repository)

## Setup Instructions

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/4thworldsoldier/tenant-management-service.git
   cd tenant-management-service
2. **Run the project:**
   Using any IDE/editor that supports java build and run the project, this will enable hibernate ORM provider create the necessary table structure for the service.

## Usage Guidelines

- **Update tenant Flow:**
  - Clients sends requests to `/api/tenant/update` to update a tenant info see postman collection for sample requests.
  **Note:** 
  - only users who have a role that has the TENANT_UPDATE privilege can call this endpoint that is roles - MASTER_ADMIN AND DOMAIN_ADMIN, every other role returns an unauthorised message.